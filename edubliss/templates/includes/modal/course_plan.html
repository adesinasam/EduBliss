 {% if selected_course %}
  <div class="modal" data-modal="true" data-modal-backdrop-static="true" id="subject_modal">
   <div class="modal-content max-w-[600px] top-[15%]">
    <div class="modal-header py-4 px-5">
        Course Outline - {{selected_course}}
     <!-- <i class="ki-filled ki-magnifier text-gray-700 text-xl">
     </i>
     <input class="input px-0 border-none bg-transparent shadow-none ml-2.5" name="query" placeholder="Tap to start search" type="text" value=""/> -->
     <button class="btn btn-sm btn-icon btn-light btn-clear shrink-0" data-modal-dismiss="true">
      <i class="ki-filled ki-cross">
      </i>
     </button>
    </div>
    <div class="modal-body p-0 pb-5">
     <div class="tabs justify-between px-5 mb-2.5" data-tabs="true">
      <div class="flex items-center gap-5">
       <button class="tab py-5 active" data-tab-toggle="#subject_first">
        First Term
       </button>
       <button class="tab py-5" data-tab-toggle="#subject_second">
        Second Term
       </button>
       <button class="tab py-5" data-tab-toggle="#subject_third">
        Third Term
       </button>
      </div>
      <!-- <div class="menu -mt-px" data-menu="true">
       <div class="menu-item" data-menu-item-offset="0, 10px" data-menu-item-placement="bottom-end" data-menu-item-toggle="dropdown" data-menu-item-trigger="click|lg:hover">
        <button class="menu-toggle btn btn-sm btn-icon btn-light btn-clear">
         <i class="ki-filled ki-setting-2">
         </i>
        </button>
        <div class="menu-dropdown menu-default w-full max-w-[175px]" data-menu-dismiss="true">
         <div class="menu-item">
          <a class="menu-link" href="#">
           <span class="menu-icon">
            <i class="ki-filled ki-document">
            </i>
           </span>
           <span class="menu-title">
            View
           </span>
          </a>
         </div>
         <div class="menu-item" data-menu-item-offset="-15px, 0" data-menu-item-placement="right-start" data-menu-item-toggle="dropdown" data-menu-item-trigger="click|lg:hover">
          <div class="menu-link">
           <span class="menu-icon">
            <i class="ki-filled ki-notification-status">
            </i>
           </span>
           <span class="menu-title">
            Export
           </span>
           <span class="menu-arrow">
            <i class="ki-filled ki-right text-3xs">
            </i>
           </span>
          </div>
          <div class="menu-dropdown menu-default w-full max-w-[175px]">
           <div class="menu-item">
            <a class="menu-link" href="account/home/settings-sidebar.html">
             <span class="menu-icon">
              <i class="ki-filled ki-sms">
              </i>
             </span>
             <span class="menu-title">
              Email
             </span>
            </a>
           </div>
           <div class="menu-item">
            <a class="menu-link" href="account/home/settings-sidebar.html">
             <span class="menu-icon">
              <i class="ki-filled ki-message-notify">
              </i>
             </span>
             <span class="menu-title">
              SMS
             </span>
            </a>
           </div>
           <div class="menu-item">
            <a class="menu-link" href="account/home/settings-sidebar.html">
             <span class="menu-icon">
              <i class="ki-filled ki-notification-status">
              </i>
             </span>
             <span class="menu-title">
              Push
             </span>
            </a>
           </div>
          </div>
         </div>
         <div class="menu-item">
          <a class="menu-link" href="#">
           <span class="menu-icon">
            <i class="ki-filled ki-pencil">
            </i>
           </span>
           <span class="menu-title">
            Edit
           </span>
          </a>
         </div>
         <div class="menu-item">
          <a class="menu-link" href="#">
           <span class="menu-icon">
            <i class="ki-filled ki-trash">
            </i>
           </span>
           <span class="menu-title">
            Delete
           </span>
          </a>
         </div>
        </div>
       </div>
      </div> -->
     </div>
     <div class="scrollable-y-auto" data-scrollable="true" data-scrollable-max-height="auto" data-scrollable-offset="300px">
      <div class="" id="subject_first">
       <table class="table table-border scrollable-x-auto align-middle text-gray-700 font-medium text-sm">
        <thead>
         <tr>
          <th class="min-w-[150px]">
           <span class="sort asc">
            <span class="sort-label">
             Date
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[150px]">
           <span class="sort">
            <span class="sort-label">
             Week
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[250px]">
           <span class="sort asc">
            <span class="sort-label">
             Topic
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[250px]">
           <span class="sort asc">
            <span class="sort-label">
             Sub Topic
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[150px]">
           <span class="sort asc">
            <span class="sort-label">
             Status
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[100px]">
           <span class="sort asc">
            <span class="sort-label">
             Periods
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
         </tr>
        </thead>
        <tbody>
         {% if course_plan_1 %}
         {% for plan_1 in course_plan_1 %}
         <tr>
          <td>
           <div class="flex items-center gap-2">
            <span class="text-gray-700">
             {{ plan_1.date or ""}}
            </span>
           </div>
          </td>
          <td>
           <div class="flex items-center gap-2.5">
            <div class="leading-none font-semibold text-gray-900 hover:text-primary" href="#">
             {{ plan_1.week_num or "" }}
            </div>
           </div>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_1.topic or "" }}
            </span>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_1.sub_topic or "" }}
            </span>
          </td>
          <td>
            {% if plan_1.status == 'Not Started' %}
            <span class="badge badge-warning badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-warning me-1.5"></span>
            {% elif plan_1.status == 'In progress' %}
            <span class="badge badge-primary badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-primary me-1.5"></span>
            {% elif plan_1.status == 'Completed' %}
            <span class="badge badge-success badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-success me-1.5"></span>
            {% endif %}  
             {{ plan_1.status }}
            </span>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_1.periods or "" }}
            </span>
          </td>
         </tr>
         {% endfor %}
         {% else %}
         <tr>
          <td colspan="6" class="text-center">No Outline found.</td>
         </tr>
         {% endif %}
        </tbody>
       </table>
      </div>
      <div class="hidden" id="subject_second">
       <table class="table table-border scrollable-x-auto align-middle text-gray-700 font-medium text-sm">
        <thead>
         <tr>
          <th class="min-w-[150px]">
           <span class="sort asc">
            <span class="sort-label">
             Date
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[150px]">
           <span class="sort">
            <span class="sort-label">
             Week
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[250px]">
           <span class="sort asc">
            <span class="sort-label">
             Topic
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[250px]">
           <span class="sort asc">
            <span class="sort-label">
             Sub Topic
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[150px]">
           <span class="sort asc">
            <span class="sort-label">
             Status
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[100px]">
           <span class="sort asc">
            <span class="sort-label">
             Periods
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
         </tr>
        </thead>
        <tbody>
         {% if course_plan_2 %}
         {% for plan_2 in course_plan_2 %}
         <tr>
          <td>
           <div class="flex items-center gap-2">
            <span class="text-gray-700">
             {{ plan_2.date or ""}}
            </span>
           </div>
          </td>
          <td>
           <div class="flex items-center gap-2.5">
            <div class="leading-none font-semibold text-gray-900 hover:text-primary" href="#">
             {{ plan_2.week_num or "" }}
            </div>
           </div>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_2.topic or "" }}
            </span>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_2.sub_topic or "" }}
            </span>
          </td>
          <td>
            {% if plan_2.status == 'Not Started' %}
            <span class="badge badge-warning badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-warning me-1.5"></span>
            {% elif plan_2.status == 'In progress' %}
            <span class="badge badge-primary badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-primary me-1.5"></span>
            {% elif plan_2.status == 'Completed' %}
            <span class="badge badge-success badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-success me-1.5"></span>
            {% endif %}  
             {{ plan_2.status }}
            </span>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_2.periods or "" }}
            </span>
          </td>
         </tr>
         {% endfor %}
         {% else %}
         <tr>
          <td colspan="6" class="text-center">No Outline found.</td>
         </tr>
         {% endif %}
        </tbody>
       </table>
      </div>
      <div class="hidden" id="subject_third">
       <table class="table table-border scrollable-x-auto align-middle text-gray-700 font-medium text-sm">
        <thead>
         <tr>
          <th class="min-w-[150px]">
           <span class="sort asc">
            <span class="sort-label">
             Date
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[150px]">
           <span class="sort">
            <span class="sort-label">
             Week
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[250px]">
           <span class="sort asc">
            <span class="sort-label">
             Topic
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[250px]">
           <span class="sort asc">
            <span class="sort-label">
             Sub Topic
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[150px]">
           <span class="sort asc">
            <span class="sort-label">
             Status
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
          <th class="min-w-[100px]">
           <span class="sort asc">
            <span class="sort-label">
             Periods
            </span>
            <span class="sort-icon">
            </span>
           </span>
          </th>
         </tr>
        </thead>
        <tbody>
         {% if course_plan_3 %}
         {% for plan_3 in course_plan_3 %}
         <tr>
          <td>
           <div class="flex items-center gap-2">
            <span class="text-gray-700">
             {{ plan_3.date or ""}}
            </span>
           </div>
          </td>
          <td>
           <div class="flex items-center gap-2.5">
            <div class="leading-none font-semibold text-gray-900 hover:text-primary" href="#">
             {{ plan_3.week_num or "" }}
            </div>
           </div>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_3.topic or "" }}
            </span>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_3.sub_topic or "" }}
            </span>
          </td>
          <td>
            {% if plan_3.status == 'Not Started' %}
            <span class="badge badge-warning badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-warning me-1.5"></span>
            {% elif plan_3.status == 'In progress' %}
            <span class="badge badge-primary badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-primary me-1.5"></span>
            {% elif plan_3.status == 'Completed' %}
            <span class="badge badge-success badge-outline rounded-[30px]">
              <span class="size-1.5 rounded-full bg-success me-1.5"></span>
            {% endif %}  
             {{ plan_3.status }}
            </span>
          </td>
          <td>
            <span class="text-gray-700">
             {{ plan_3.periods or "" }}
            </span>
          </td>
         </tr>
         {% endfor %}
         {% else %}
         <tr>
          <td colspan="6" class="text-center">No Outline found.</td>
         </tr>
         {% endif %}
        </tbody>
       </table>
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
    window.onload = () => {
      const modalEl = KTDom.getElement('#subject_modal');
      const modal = KTModal.getInstance(modalEl);
      modal?.show();
    };
  </script>
 {% endif %}

